<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBQ Smartboard: Hobbes, Locke, & Jefferson</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Merriweather:wght@400;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for smartboard readability */
        body {
            font-family: 'Inter', sans-serif; /* Default font */
            background-color: #1a202c; /* A dark, chalkboard-like color */
            color: #e2e8f0;
        }
        .document-pane {
            background-color: #2d3748;
            border: 2px solid #4a5568;
            border-radius: 0.75rem;
            padding: 2rem;
            transition: all 0.3s ease-in-out;
            overflow-y: auto;
            height: calc(100vh - 12rem); /* Full height minus header/controls */
        }
        .doc-title {
            font-size: 2rem;
            font-weight: bold;
            color: #a0aec0;
            border-bottom: 2px solid #4a5568;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .doc-content {
            font-size: 1.75rem; /* Large text for readability from a distance */
            line-height: 1.6;
        }
        .control-button {
            padding: 1rem 2rem;
            font-size: 1.25rem;
            border-radius: 0.5rem;
            background-color: #4a5568;
            color: #e2e8f0;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .control-button:hover, .control-button.active {
            background-color: #718096;
            transform: translateY(-2px);
        }
        #font-selector {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            text-align: center;
            padding-right: 2rem; /* Keep padding consistent */
        }
        .highlightable {
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 2px 4px;
            border-radius: 4px;
        }
        .highlighted {
            background-color: #f6e05e; /* Bright yellow for highlight */
            color: #1a202c;
            font-weight: bold;
        }
        .glossary-term {
            text-decoration: underline;
            text-decoration-style: dotted;
            text-decoration-thickness: 2px;
            text-underline-offset: 4px;
            cursor: help;
            color: #90cdf4;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="overflow-hidden">

    <!-- Header -->
    <header class="text-center p-4 bg-gray-900 border-b-2 border-gray-700">
        <h1 class="text-4xl font-bold tracking-wider text-gray-300">Foundational Thinkers: A Document Analysis</h1>
    </header>

    <!-- Control Panel -->
    <div id="controls" class="flex justify-center items-center space-x-4 p-4 bg-gray-800">
        <button id="btn-doc1" class="control-button" onclick="setView('doc1')">ðŸ“ƒ Hobbes</button>
        <button id="btn-doc2" class="control-button" onclick="setView('doc2')">ðŸ“ƒ Locke</button>
        <button id="btn-doc3" class="control-button" onclick="setView('doc3')">ðŸ“ƒ Declaration</button>
        <div class="border-l-2 border-gray-600 h-10"></div>
        <select id="font-selector" onchange="changeFont()" class="control-button">
            <option value="'Inter', sans-serif">Inter</option>
            <option value="'Georgia', serif">Georgia</option>
            <option value="'Roboto', sans-serif">Roboto</option>
            <option value="'Playfair Display', serif">Playfair Display</option>
            <option value="'Merriweather', serif">Merriweather</option>
        </select>
        <div class="border-l-2 border-gray-600 h-10"></div>
        <button id="btn-compare-13" class="control-button" onclick="setView('doc1', 'doc3')">Compare: Hobbes vs Jefferson</button>
        <button id="btn-compare-23" class="control-button" onclick="setView('doc2', 'doc3')">Compare: Locke vs Jefferson</button>
    </div>

    <!-- Document Display Area -->
    <main id="document-display" class="flex p-6 space-x-6 w-full h-full">
        <!-- Document panes will be injected here by JavaScript -->
    </main>

    <!-- Glossary Modal -->
    <div id="glossary-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
        <div class="bg-gray-800 text-gray-200 rounded-lg shadow-xl p-8 max-w-3xl w-full relative border-2 border-gray-600">
            <button id="close-modal" class="absolute top-4 right-4 text-gray-400 hover:text-white text-4xl leading-none">&times;</button>
            <h3 id="modal-term" class="text-3xl font-bold mb-4 text-yellow-400"></h3>
            <p id="modal-definition" class="text-2xl"></p>
        </div>
    </div>


    <script>
        const glossary = {
            'diffidence': {
                term: 'Diffidence',
                definition: 'In Hobbesâ€™s context, this means distrust or fear of other people, leading one to act first for their own safety.'
            },
            'common power': {
                term: 'Common Power',
                definition: 'A single, strong government or authority with the power to control everyone, which Hobbes believed was necessary to prevent chaos.'
            },
            'consent': {
                term: 'Consent',
                definition: 'Permission or agreement for something to happen. Locke and Jefferson argued that governments get their power from the consent of the people.'
            },
            'arbitrary power': {
                term: 'Arbitrary Power',
                definition: 'Power used by a ruler for any reason they want, without having to follow any rules or laws.'
            },
            'absolved': {
                term: 'Absolved',
                definition: 'To be set free from an obligation or blame. Locke argued people are absolved from obeying a government that violates their rights.'
            },
            'unalienable Rights': {
                term: 'Unalienable Rights',
                definition: 'Rights that you are born with and that cannot be taken away. Jefferson lists Life, Liberty, and the pursuit of Happiness as examples.'
            },
            'instituted': {
                term: 'Instituted',
                definition: 'To establish or set up something, like a government. The Declaration says governments are instituted to secure rights.'
            },
            'deriving': {
                term: 'Deriving',
                definition: 'Getting something from a specific source. The Declaration states that governments derive their power from the people.'
            },
             'abolish': {
                term: 'Abolish',
                definition: 'To formally and completely put an end to a system, practice, or institution.'
            }
        };

        const documents = {
            doc1: {
                title: 'Document 1: Thomas Hobbes, "Leviathan" (1651)',
                content: `"In the nature of man, we find three principal causes of quarrel: competition, <span class="glossary-term" data-term="diffidence">diffidence</span>, and glory. The first makes men invade for gain; the second, for safety; and the third, for reputation. ... During the time men live without a <span class="glossary-term" data-term="common power">common power</span> to keep them all in awe, they are in that condition which is called war; and such a war, as is of every man, against every man. The life of man, solitary, poor, nasty, brutish, and short."`
            },
            doc2: {
                title: 'Document 2: John Locke, "Two Treatises of Government" (1689)',
                content: `"Men being, as has been said, by nature all <span class="highlightable" data-match="equal">free, equal, and independent</span>, no one can be put out of this estate and subjected to the political power of another without his own <span class="highlightable glossary-term" data-match="consent" data-term="consent">consent</span>. The end of law is not to abolish or restrain but to <span class="highlightable" data-match="liberty">preserve and enlarge freedom</span>. ... Whenever the legislators endeavor to take away and destroy the property of the people or to reduce them to slavery under <span class="glossary-term" data-term="arbitrary power">arbitrary power</span>, they put themselves into a state of war with the people, who are thereupon <span class="highlightable" data-match="revolt"><span class="glossary-term" data-term="absolved">absolved</span> from any further obedience</span>."`
            },
            doc3: {
                title: 'Document 3: The U.S. Declaration of Independence (1776)',
                content: `"We hold these truths to be self-evident, that all men are created <span class="highlightable" data-match="equal">equal</span>, that they are endowed by their Creator with certain <span class="glossary-term" data-term="unalienable Rights">unalienable Rights</span>, that among these are <span class="highlightable" data-match="liberty">Life, Liberty and the pursuit of Happiness</span>. That to secure these rights, Governments are <span class="glossary-term" data-term="instituted">instituted</span> among Men, <span class="glossary-term" data-term="deriving">deriving</span> their just powers from the <span class="highlightable glossary-term" data-match="consent" data-term="consent">consent of the governed</span>, That whenever any Form of Government becomes destructive of these ends, it is the <span class="highlightable" data-match="revolt">Right of the People to alter or to <span class="glossary-term" data-term="abolish">abolish</span> it</span>, and to institute new Government."`
            }
        };

        const displayArea = document.getElementById('document-display');
        const buttons = document.querySelectorAll('.control-button');
        const modal = document.getElementById('glossary-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const modalTerm = document.getElementById('modal-term');
        const modalDefinition = document.getElementById('modal-definition');

        function changeFont() {
            const selector = document.getElementById('font-selector');
            document.body.style.fontFamily = selector.value;
        }

        function createDocumentPane(docId) {
            const doc = documents[docId];
            return `<div class="document-pane w-full"><h2 class="doc-title">${doc.title}</h2><p class="doc-content">${doc.content}</p></div>`;
        }
        
        function createComparisonPanes(docId1, docId2) {
             const doc1 = documents[docId1];
             const doc2 = documents[docId2];
             return `<div class="document-pane w-1/2"><h2 class="doc-title">${doc1.title}</h2><p class="doc-content">${doc1.content}</p></div><div class="document-pane w-1/2"><h2 class="doc-title">${doc2.title}</h2><p class="doc-content">${doc2.content}</p></div>`;
        }
        
        function setView(docId1, docId2 = null) {
            displayArea.innerHTML = docId2 ? createComparisonPanes(docId1, docId2) : createDocumentPane(docId1);
            updateActiveButton(docId1, docId2);
            addHighlightListeners();
            addGlossaryListeners();
        }

        function updateActiveButton(docId1, docId2) {
            let activeId;
            if (docId1 === 'doc1' && docId2 === 'doc3') activeId = 'btn-compare-13';
            else if (docId1 === 'doc2' && docId2 === 'doc3') activeId = 'btn-compare-23';
            else if (docId1 === 'doc1') activeId = 'btn-doc1';
            else if (docId1 === 'doc2') activeId = 'btn-doc2';
            else if (docId1 === 'doc3') activeId = 'btn-doc3';

            buttons.forEach(button => button.classList.remove('active'));
            if(document.getElementById(activeId)) {
                document.getElementById(activeId).classList.add('active');
            }
        }
        
        function addHighlightListeners() {
            document.querySelectorAll('.highlightable').forEach(el => {
                el.addEventListener('click', (e) => {
                    // This check prevents the highlight from firing if a glossary term inside it is clicked
                    if (e.target.classList.contains('glossary-term')) return; 

                    const matchGroup = e.currentTarget.getAttribute('data-match');
                    const isAlreadyHighlighted = e.currentTarget.classList.contains('highlighted');
                    
                    document.querySelectorAll('.highlighted').forEach(h => h.classList.remove('highlighted'));
                    
                    if (!isAlreadyHighlighted) {
                        document.querySelectorAll(`[data-match="${matchGroup}"]`).forEach(match => match.classList.add('highlighted'));
                    }
                });
            });
        }

        function showModal(termKey) {
            if (glossary[termKey]) {
                modalTerm.textContent = glossary[termKey].term;
                modalDefinition.textContent = glossary[termKey].definition;
                modal.classList.remove('hidden');
            }
        }

        function hideModal() {
            modal.classList.add('hidden');
        }

        function addGlossaryListeners() {
            document.querySelectorAll('.glossary-term').forEach(el => {
                el.addEventListener('click', (e) => {
                    e.stopPropagation(); // Prevents the parent's click (highlight) listener from firing
                    const termKey = e.target.getAttribute('data-term');
                    showModal(termKey);
                });
            });
        }
        
        closeModalBtn.addEventListener('click', hideModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) { // only close if clicking on the background
                hideModal();
            }
        });

        // Initial view on load
        window.onload = () => {
            setView('doc1');
        };
    </script>

</body>
</html>
